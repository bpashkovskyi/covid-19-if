@model IfCovid.ViewModels.Chart

<canvas id="@Model.Name" style="height: 800px; width: 90%;"></canvas>

<script>
    const context_@Model.Name = document.getElementById('@Model.Name');
    const chart_@Model.Name = new Chart(context_@Model.Name,
        {
            type: 'line',
            data: {
                labels: [@foreach (var xValue in Model.XData)
                         {
                             <text>'</text>
                             @xValue<text>',</text>
                         } ],
                datasets: [
                    @foreach (var graph in Model.Lines)
                    {
                        <text>
                            {
                                label: '@graph.Label',
                                borderColor: '@graph.BorderColor',
                                data: [@foreach (var yValue in graph.YData)
                                       {
                                           @(yValue + ", ")
                                       } ],
                                fill: false
                            },
                        </text>
                    }
                ]
            },
            options: {
                responsive: true,
                tooltips: {
                    mode: 'index',
                    intersect: false
                },
                hover: {
                    mode: 'nearest',
                    intersect: true
                },
                scales: {
                    xAxes: [
                        {
                            display: true,
                            scaleLabel: {
                                display: true,
                                labelString: '@Model.XLabel'
                            }
                        }
                    ],
                    yAxes: [
                        {
                            display: true,
                            scaleLabel: {
                                display: true,
                                labelString: '@Model.YLabel'
                            },
                            ticks:
                            {
                                min: 0
                            },
                        }
                    ]
                },
                plugins: {
                    zoom: {
                        zoom: {
                            wheel: {
                                enabled: true
                            },
                            pinch: {
                                enabled: true
                            },
                            drag: {
                                enabled: true
                            },
                            mode: 'x'
                        }
                    },
                    title: {
                        display: true,
                        text: '@Model.Title'
                    }
                }
            }
        });
</script>